/**
 * name: @bassist/utils
 * version: v0.4.0
 * description: Opinionated collection of common JavaScript / TypeScript utils by @chengpeiquan .
 * author: chengpeiquan <chengpeiquan@chengpeiquan.com>
 * homepage: https://paka.dev/npm/@bassist/utils
 * license: MIT
 */
"use strict";var x=Object.defineProperty;var Q=(t,e,n)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>(Q(t,typeof e!="symbol"?e+"":e,n),n);Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const y=require("@withtypes/mime"),k={isSupported:typeof navigator>"u"?!1:Boolean(navigator.clipboard),async copy(t){if(!this.isSupported)return!1;const e=t.innerText||t.value;return await this.write(e)},async cut(t){return!this.isSupported||!await this.copy(t)?!1:(t.value="",!0)},async read(){return this.isSupported?await navigator.clipboard.readText():""},async write(t){return this.isSupported?(await navigator.clipboard.writeText(t),!0):!1}};function f(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function h(t){return f(t)==="object"}function d(t,e){return h(t)?Object.prototype.hasOwnProperty.call(t,e):!1}const a=typeof window<"u",O=!a,o=a?navigator.userAgent.toLowerCase():"",g=/iPhone|phone|android|iPod|pad|iPad/i,R=g.test(o),M=!g.test(o),T=/Android/i.test(o),$=/iPhone|iPod|iPad|iOS/i.test(o),q=/uni-app|html5plus/.test(o),A=/MicroMessenger/i.test(o),C=/\sQQ|mqqbrowser|qzone|qqbrowser/i.test(o),I=/mqqbrowser|qqbrowser/i.test(o),B=/qzone\/.*_qz_([\d.]+)/i.test(o),z=/(weibo).*weibo__([\d.]+)/i.test(o),D=/(baiduboxapp)\/([\d.]+)/i.test(o);function b(t){return t.startsWith("data")&&t.includes("base64")?t.split(",")[0].replace(/data:(.*);base64/,"$1"):y.getType(t)||""}function S(t){return y.getExtension(t)||""}function N(t){const e=b(t);return S(e)}function P(t,e=!1){return t=t?String(t):"",t=t.replace(/[^\d]/g,""),t&&!e&&(t=parseInt(t)),String(t)}function _(t){if(t=String(t),!t)return"0.00";const e=t.split("."),n=e[0],i=e[1];return e.length===1?`${n}.00`:i.length===1?`${t}0`:Number(t).toFixed(2)}function j(t,e){return String(t).length>e?String(t).slice(0,e)+"â€¦":String(t)}function L([t,...e]){return t?(t==null?void 0:t.toUpperCase())+e.join("").toLowerCase():""}function U({type:t,id:e,resource:n}){return new Promise((i,r)=>{if(!a||document.querySelector(e)){r();return}function c(s){s.addEventListener("load",i),s.addEventListener("error",r),s.addEventListener("abort",r)}switch(t){case"js":{const s=document.createElement("script");s.async=!0,s.src=n,c(s),document.head.appendChild(s);break}case"css":{const s=document.createElement("link");s.id=e,s.rel="stylesheet",s.href=n,c(s),document.head.appendChild(s);break}case"style":{const s=document.createElement("style");s.id=e,c(s),document.head.appendChild(s),s.appendChild(document.createTextNode(n));break}}})}function m(t){let e="";if(a){const{search:i}=window.location;e=i}if(typeof t=="string"&&t.startsWith("http")){const i=t.indexOf("?");e=i===-1?"":t.slice(i)}if(e.includes("#")){const i=e.indexOf("#");e=e.slice(0,i)}if(!e.length)return{};const n={};return e.slice(1).split("&").forEach(i=>{const[r,c]=i.split("=");n[r]=decodeURIComponent(c)}),n}function W(t){const e=m(t),n={};return Object.keys(e).forEach(r=>{r!=="path"&&(n[r]=e[r])}),{path:e.path||"",params:n}}function F(t,e){return m(e)[t]||""}function Z(t){return h(t)?Object.keys(t).map(e=>`${e}=${encodeURIComponent(String(t[e]))}`).join("&"):""}function w(t=0,e=100,n="round"){return Math[n](Math.random()*(e-t)+t)}function J(t=10){const e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let n="",i=t;const r=e.length;for(;i--;)n+=e[Math.random()*r|0];return n}function K(){const t=w(0,1);return[!0,!1][t]}function V(t){if(!Array.isArray(t))return t;for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),i=t[e];t[e]=t[n],t[n]=i}return t}function X(t){return/^1[3456789]\d{9}$/.test(String(t))}function G(t){return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(t)}function H(t){return/https?:\/\/[\w-]+(\.[\w-]+){1,2}(\/[\w-]{3,6}){0,2}(\?[\w_]{4,6}=[\w_]{4,6}(&[\w_]{4,6}=[\w_]{4,6}){0,2})?/.test(t)}function Y(t){const e=/^([1-6][1-9]|50)\d{4}(18|19|20)\d{2}((0[1-9])|10|11|12)(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,n=/^([1-6][1-9]|50)\d{4}\d{2}((0[1-9])|10|11|12)(([0-2][1-9])|10|20|30|31)\d{3}$/;return e.test(t)||n.test(t)}function tt(t){return/^([1-9]{1})(\d{15}|\d{16}|\d{18})$/.test(t)}function v(){return process.env.NODE_ENV}const et=v();function l(t){return process.env.NODE_ENV===t}const nt=l("development"),it=l("test"),st=l("production"),p={};class rt{constructor(e){u(this,"data");this.data={};const n=d(p,e);this.data=n?p[e].data:{},n||(p[e]=this)}get length(){return Object.keys(this.data).length}clear(){this.data={}}getItem(e){return d(this.data,e)?this.data[e]:null}setItem(e,n){this.data[e]=n}removeItem(e){d(this.data,e)&&delete this.data[e]}key(e){const n=Object.keys(this.data);return e>n.length?null:n[e]}}class E{constructor(e,n){u(this,"prefix");u(this,"storage");this.prefix=e,this.storage=a?window[n]:new rt(e)}get(e){const n=this.storage.getItem(`${this.prefix}-${e}`);if(!n)return n;try{return n==="true"?!0:n==="false"?!1:n==="null"?null:n==="undefined"?void 0:JSON.parse(n)}catch{return n}}set(e,n){try{const r=f(n)==="string"?n:JSON.stringify(n);this.storage.setItem(`${this.prefix}-${e}`,r)}catch(i){console.log(i)}}remove(e){this.storage.removeItem(`${this.prefix}-${e}`)}clear(){this.list().forEach(n=>{this.remove(n)})}count(){return this.list().length}list(){if(!this.prefix)return[];const e=[],n=this.storage.length;for(let i=0;i<n;i++){const r=this.storage.key(i);r!=null&&r.startsWith(this.prefix)&&e.push(r.replace(`${this.prefix}-`,""))}return e}}class ot extends E{constructor(e){super(e,"localStorage")}}class at extends E{constructor(e){super(e,"sessionStorage")}}exports.LocalStorage=ot;exports.SessionStorage=at;exports.capitalize=L;exports.checkRuntimeEnv=l;exports.clipboard=k;exports.ellipsis=j;exports.extractNumber=P;exports.extractQueryInfo=W;exports.formatAmount=_;exports.getDataType=f;exports.getExtension=N;exports.getExtensionFromMimeType=S;exports.getMimeType=b;exports.getQuery=F;exports.getRuntimeEnv=v;exports.hasKey=d;exports.isAndroid=T;exports.isBaidu=D;exports.isBankCard=tt;exports.isBrowser=a;exports.isDesktop=M;exports.isDevRuntime=nt;exports.isEmail=G;exports.isIOS=$;exports.isIdCard=Y;exports.isMob=X;exports.isMobile=R;exports.isObject=h;exports.isProdRuntime=st;exports.isQQ=C;exports.isQQBrowser=I;exports.isQzone=B;exports.isServer=O;exports.isTestRuntime=it;exports.isUniApp=q;exports.isUrl=H;exports.isWeibo=z;exports.isWeixin=A;exports.loadRes=U;exports.mobileDevicesRegExp=g;exports.parseQuery=m;exports.randomBoolean=K;exports.randomNumber=w;exports.randomString=J;exports.runtimeEnv=et;exports.shuffle=V;exports.stringifyQuery=Z;exports.ua=o;
